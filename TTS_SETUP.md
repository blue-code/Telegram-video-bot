# EPUB ë¦¬ë” TTS ê¸°ëŠ¥ ê°€ì´ë“œ (Edge TTS)

## ê°œìš”

EPUB ë¦¬ë”ê°€ **Microsoft Edge TTS**ë¥¼ ì‚¬ìš©í•˜ì—¬ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ìŒì„±ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¥¼ ì½ì–´ì¤ë‹ˆë‹¤.

### âœ¨ ì£¼ìš” íŠ¹ì§•

- âœ… **ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ìŒì„±** (Microsoft Neural TTS)
- âœ… **8ê°€ì§€ í•œêµ­ì–´ ìŒì„±** (ì—¬ì„± 5ê°œ, ë‚¨ì„± 3ê°œ)
- âœ… **ëª¨ë“  ë¸Œë¼ìš°ì € ì§€ì›** (Safari, Chrome, Firefox ë“±)
- âœ… **ë¬´ë£Œ**
- âœ… **ë¹ ë¥¸ ìŒì„± ìƒì„±**
- âš ï¸ **ì˜¨ë¼ì¸ ì—°ê²° í•„ìš”**

### ğŸ¯ ì§€ì› ê¸°ëŠ¥

1. **ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„±**: Microsoft Neural TTSë¡œ ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ë°œìŒ
2. **8ê°€ì§€ í•œêµ­ì–´ ìŒì„±**:
   - **ì—¬ì„± ìŒì„±**: ì„ í¬ (ì¶”ì²œ), ì§€ë¯¼, ì„œí˜„, ìˆœë³µ, ìœ ì§„
   - **ë‚¨ì„± ìŒì„±**: ì¸ì¤€, ë´‰ì§„, êµ­ë¯¼
3. **ì†ë„/ë†’ì´/ë³¼ë¥¨ ì¡°ì ˆ**: ì½ê¸° ì†ë„, ìŒë†’ì´, ë³¼ë¥¨ ì„¸ë°€ ì¡°ì •
4. **ìë™ í˜ì´ì§€ ë„˜ê¹€**: í˜„ì¬ í˜ì´ì§€ ì™„ë£Œ ì‹œ ë‹¤ìŒ í˜ì´ì§€ ìë™ ì´ë™
5. **ë‹¨ì–´ í•˜ì´ë¼ì´íŠ¸**: ì½ëŠ” ë¶€ë¶„ ì‹¤ì‹œê°„ í•˜ì´ë¼ì´íŠ¸

## ğŸ“± ì§€ì› ë¸Œë¼ìš°ì €

| ë¸Œë¼ìš°ì € | í”Œë«í¼ | í•œêµ­ì–´ ì§€ì› | ìƒíƒœ |
|---------|--------|----------|------|
| **Safari** | iOS | âœ… ì™„ë²½ | ê¶Œì¥ |
| **Safari** | macOS | âœ… ì™„ë²½ | ê¶Œì¥ |
| **Chrome** | Android | âœ… ì™„ë²½ | ê¶Œì¥ |
| **Chrome** | Desktop | âœ… ì™„ë²½ | ê¶Œì¥ |
| **Edge** | Desktop | âœ… ì™„ë²½ | ê¶Œì¥ |
| **Firefox** | ëª¨ë“  í”Œë«í¼ | âœ… ì™„ë²½ | ê¶Œì¥ |

**ì°¸ê³ **: Edge TTSëŠ” ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ì¸í„°ë„· ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤.

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1ë‹¨ê³„: EPUB ì±… ì—´ê¸°

1. ì›¹ì‚¬ì´íŠ¸ ì ‘ì†
2. íŒŒì¼ ê´€ë¦¬ í˜ì´ì§€ì—ì„œ EPUB íŒŒì¼ ì„ íƒ
3. ë¦¬ë”ê°€ ì—´ë¦¬ë©´ í™”ë©´ ì¤‘ì•™ íƒ­

### 2ë‹¨ê³„: TTS ì„¤ì •

1. **ì„¤ì • ë©”ë‰´ ì—´ê¸°**: ìƒë‹¨ "Aa" ë²„íŠ¼ í´ë¦­
2. **TTS ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤**: "Text-to-Speech (ìŒì„± ì½ê¸°)" ì„¹ì…˜ ì°¾ê¸°
3. **ì„¤ì • ì¡°ì •**:
   - **ëª©ì†Œë¦¬**: 8ê°€ì§€ í•œêµ­ì–´ ìŒì„± ì¤‘ ì„ íƒ
     - **ì—¬ì„±**: ì„ í¬ (ì¶”ì²œ), ì§€ë¯¼, ì„œí˜„, ìˆœë³µ, ìœ ì§„
     - **ë‚¨ì„±**: ì¸ì¤€, ë´‰ì§„, êµ­ë¯¼
   - **ì†ë„**: ìŠ¬ë¼ì´ë”ë¡œ ì½ê¸° ì†ë„ ì¡°ì ˆ (-50% ~ +100%)
   - **ìŒë†’ì´**: ìŒì„±ì˜ ë†’ë‚®ì´ ì¡°ì ˆ (-50Hz ~ +50Hz)
   - **ë³¼ë¥¨**: ìŒëŸ‰ ì¡°ì ˆ (-50% ~ +50%)

### 3ë‹¨ê³„: ì½ê¸° ì‹œì‘

1. **"â–¶ ì½ê¸° ì‹œì‘" ë²„íŠ¼ í´ë¦­**
2. ìë™ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ì½ê¸° ì‹œì‘
3. ì½ëŠ” ë¶€ë¶„ì´ íŒŒë€ìƒ‰ìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸ë¨
4. í˜ì´ì§€ ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™

### 4ë‹¨ê³„: ì œì–´

- **ì¼ì‹œì •ì§€**: "â¸ ì¼ì‹œì •ì§€" ë²„íŠ¼ í´ë¦­
- **ì¬ê°œ**: "â–¶ ì½ê¸° ì‹œì‘" ë²„íŠ¼ ë‹¤ì‹œ í´ë¦­
- **ì¤‘ì§€**: ì¼ì‹œì •ì§€ í›„ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™

## ğŸ“± iPhone Safari ì‚¬ìš© íŒ

### ìŒì„± í’ˆì§ˆ

Edge TTSëŠ” iPhone Safariì—ì„œë„ ë™ì¼í•œ ê³ í’ˆì§ˆ ìŒì„±ì„ ì œê³µí•©ë‹ˆë‹¤:
- **ì„ í¬ (ê¸°ë³¸)**: ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ì—¬ì„± ìŒì„± (ì¶”ì²œ)
- **ì¸ì¤€**: ìì—°ìŠ¤ëŸ¬ìš´ ë‚¨ì„± ìŒì„±
- ëª¨ë“  ìŒì„±ì´ Microsoft Neural TTSë¡œ ë§¤ìš° ìì—°ìŠ¤ëŸ¬ì›€

### ì„±ëŠ¥ ìµœì í™”

1. **Wi-Fi ì‚¬ìš©**: ì•ˆì •ì ì¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²° (í•„ìˆ˜)
2. **ë°±ê·¸ë¼ìš´ë“œ ì•± ì •ë¦¬**: ë©”ëª¨ë¦¬ í™•ë³´
3. **Safari íƒ­ ì •ë¦¬**: ë‹¤ë¥¸ íƒ­ ë‹«ê¸°
4. **ì²« ì¬ìƒ**: ì²« ë²ˆì§¸ ì¬ìƒ ì‹œ 1-2ì´ˆ ì†Œìš” (ì„œë²„ ì—°ê²° ì‹œê°„)

### ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­

- **ì¸í„°ë„· ì—°ê²° í•„ìˆ˜**
- Microsoft Edge TTS ì„œë²„ ì—°ê²°
- í˜ì´ì§€ë‹¹ ì•½ 50KB-200KB ì˜¤ë””ì˜¤ ë‹¤ìš´ë¡œë“œ (MP3 í˜•ì‹)
- ë¸Œë¼ìš°ì € ì œí•œ ì—†ìŒ

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì†Œë¦¬ê°€ ì•ˆ ë‚˜ìš”

1. **ë³¼ë¥¨ í™•ì¸**
   - iPhone ë¬´ìŒ ëª¨ë“œ í•´ì œ (ì˜†ë©´ ìŠ¤ìœ„ì¹˜)
   - ë³¼ë¥¨ í¬ê²Œ (ë¬¼ë¦¬ ë²„íŠ¼)

2. **ë„¤íŠ¸ì›Œí¬ í™•ì¸**
   - Wi-Fi ë˜ëŠ” ì…€ë£°ëŸ¬ ë°ì´í„° ì—°ê²° í™•ì¸
   - ì¸í„°ë„· ì—°ê²° ì•ˆì •ì„± í™•ì¸

3. **ë‹¤ì‹œ ì‹œë„**
   - í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
   - ë‹¤ë¥¸ ëª©ì†Œë¦¬ ì„ íƒ
   - "ìŒì„± ìƒì„± ì¤‘..." ë©”ì‹œì§€ í™•ì¸

### ìŒì„± ìƒì„±ì´ ëŠë ¤ìš”

Edge TTSëŠ” ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤:
- **ì²« ì¬ìƒ**: 1-3ì´ˆ ì†Œìš” (ì„œë²„ ì—°ê²° ì‹œê°„)
- **ë„¤íŠ¸ì›Œí¬ ì†ë„**: ëŠë¦° ì¸í„°ë„·ì—ì„œëŠ” ì§€ì—° ë°œìƒ
- **í…ìŠ¤íŠ¸ ê¸¸ì´**: ê¸´ í˜ì´ì§€ëŠ” ë” ì˜¤ë˜ ê±¸ë¦¼ (ìµœëŒ€ 1000ì ì œí•œ)
- **ì„œë²„ ìƒíƒœ**: Microsoft ì„œë²„ ìƒíƒœì— ë”°ë¼ ë‹¤ë¦„

### ì„œë²„ ì˜¤ë¥˜

ì„œë²„ ì—°ê²° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜**: ì¸í„°ë„· ì—°ê²° í™•ì¸
- **íƒ€ì„ì•„ì›ƒ**: í…ìŠ¤íŠ¸ê°€ ë„ˆë¬´ ê¸´ ê²½ìš°
- **503 ì˜¤ë¥˜**: Microsoft ì„œë²„ ì¼ì‹œì  ì¥ì• 

## ğŸ†š ë‹¤ë¥¸ TTSì™€ì˜ ë¹„êµ

### Edge TTS (í˜„ì¬)

- âœ… **ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´** (Neural TTS)
- âœ… **8ê°€ì§€ ê³ í’ˆì§ˆ ìŒì„±** (ì—¬ì„± 5ê°œ, ë‚¨ì„± 3ê°œ)
- âœ… **ë¹ ë¥¸ ìŒì„± ìƒì„±** (1-3ì´ˆ)
- âœ… **ë¬´ë£Œ**
- âš ï¸ **ì˜¨ë¼ì¸ ì—°ê²° í•„ìˆ˜**

### Web Speech API

- âš ï¸ ìŒì„± í’ˆì§ˆ ë¶€ìì—°ìŠ¤ëŸ¬ì›€
- âœ… ë¸Œë¼ìš°ì € ë‚´ì¥ (ì„¤ì¹˜ ë¶ˆí•„ìš”)
- âœ… ì˜¤í”„ë¼ì¸ ì‚¬ìš© ê°€ëŠ¥
- âš ï¸ í•œêµ­ì–´ ë°œìŒ ë¶€ì •í™•

### Google Cloud TTS

- âœ… ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´
- âœ… ë‹¤ì–‘í•œ ìŒì„±
- âš ï¸ **ìœ ë£Œ** (ì›” 400ë§Œ ìê¹Œì§€ ë¬´ë£Œ)
- âš ï¸ API í‚¤ í•„ìš”

## ğŸ’¡ ê³ ê¸‰ ì‚¬ìš©

### ê°œë°œì ì½˜ì†”

Safari ì½˜ì†”ì—ì„œ Edge TTS ìƒíƒœ í™•ì¸:

```javascript
// í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ìŒì„±
console.log('Current voice:', ttsCurrentVoice);

// ì‚¬ìš© ê°€ëŠ¥í•œ í•œêµ­ì–´ ìŒì„± ëª©ë¡
console.table(edgeVoices);

// TTS ì¬ìƒ ìƒíƒœ
console.log('Playing:', ttsPlaying);
```

### ìŒì„± í…ŒìŠ¤íŠ¸ (ì½˜ì†”)

```javascript
// Edge TTS í…ŒìŠ¤íŠ¸
fetch('/api/tts/synthesize', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        text: 'ì•ˆë…•í•˜ì„¸ìš”, í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.',
        voice: 'ko-KR-SunHiNeural',
        rate: '+0%',
        pitch: '+0Hz',
        volume: '+0%'
    })
})
.then(r => r.json())
.then(data => {
    const audio = new Audio('data:audio/mp3;base64,' + data.audio);
    audio.play();
});
```

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| í•­ëª© | Web Speech API | Edge TTS (í˜„ì¬) | Google Cloud TTS |
|------|----------------|----------------|------------------|
| í•œêµ­ì–´ í’ˆì§ˆ | ë³´í†µ | **ë§¤ìš° ìš°ìˆ˜** | **ë§¤ìš° ìš°ìˆ˜** |
| ì´ˆê¸° ë¡œë”© | <1ì´ˆ | 1-3ì´ˆ | 2-4ì´ˆ |
| ë„¤íŠ¸ì›Œí¬ | ë¶ˆí•„ìš” | **í•„ìˆ˜** | **í•„ìˆ˜** |
| ì˜¤í”„ë¼ì¸ | âœ… | âŒ | âŒ |
| ë¹„ìš© | ë¬´ë£Œ | ë¬´ë£Œ | ì¼ë¶€ ìœ ë£Œ |
| ìŒì„± ì„ íƒ | ì‹œìŠ¤í…œ ì˜ì¡´ | **8ê°œ (ì „ìš©)** | 10+ (ì „ìš©) |

## ğŸ“ ê¸°ìˆ  ì •ë³´

### ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

- **ë°±ì—”ë“œ**: Python FastAPI
- **TTS ë¼ì´ë¸ŒëŸ¬ë¦¬**: edge-tts (https://github.com/rany2/edge-tts)
- **TTS ì„œë¹„ìŠ¤**: Microsoft Edge TTS (Neural)
- **í†µì‹ **: HTTP REST API (JSON)
- **ì˜¤ë””ì˜¤ ì „ì†¡**: Base64 ì¸ì½”ë”© MP3
- **ìŒì„± í’ˆì§ˆ**: 24kHz, 16-bit, mono

### API ì—”ë“œí¬ì¸íŠ¸

#### POST /api/tts/synthesize
```json
{
  "text": "ì½ì„ í…ìŠ¤íŠ¸",
  "voice": "ko-KR-SunHiNeural",
  "rate": "+0%",
  "pitch": "+0Hz",
  "volume": "+0%"
}
```

ì‘ë‹µ:
```json
{
  "audio": "base64_encoded_mp3",
  "subtitle": [
    {"offset": 0, "duration": 500, "text": "ì•ˆë…•í•˜ì„¸ìš”"}
  ],
  "size": 12345
}
```

#### GET /api/tts/voices
í•œêµ­ì–´ ìŒì„± ëª©ë¡ ë°˜í™˜

### êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

- **ë°±ì—”ë“œ**: FastAPI async ì²˜ë¦¬
- **TTS ìƒì„±**: edge-tts Python ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Audio Format**: MP3 (24kHz, 16-bit, mono)
- **ì˜¤ë””ì˜¤ ì „ì†¡**: Base64 ì¸ì½”ë”©ìœ¼ë¡œ JSON ì „ì†¡
- **ë‹¨ì–´ ê²½ê³„**: Word boundary ì •ë³´ í¬í•¨ (í•˜ì´ë¼ì´íŠ¸ìš©)

### ì§€ì› ìŒì„±

| ìŒì„± ì½”ë“œ | ì´ë¦„ | ì„±ë³„ | íŠ¹ì§• |
|----------|------|------|------|
| ko-KR-SunHiNeural | ì„ í¬ | ì—¬ì„± | ê°€ì¥ ìì—°ìŠ¤ëŸ¬ì›€ (ì¶”ì²œ) |
| ko-KR-InJoonNeural | ì¸ì¤€ | ë‚¨ì„± | ìì—°ìŠ¤ëŸ¬ìš´ ë‚¨ì„± ìŒì„± |
| ko-KR-JiMinNeural | ì§€ë¯¼ | ì—¬ì„± | ë°ê³  ëª…ë‘í•œ ìŒì„± |
| ko-KR-SeoHyeonNeural | ì„œí˜„ | ì—¬ì„± | ì°¨ë¶„í•œ ìŒì„± |
| ko-KR-SoonBokNeural | ìˆœë³µ | ì—¬ì„± | ë”°ëœ»í•œ ìŒì„± |
| ko-KR-YuJinNeural | ìœ ì§„ | ì—¬ì„± | ë¶€ë“œëŸ¬ìš´ ìŒì„± |
| ko-KR-BongJinNeural | ë´‰ì§„ | ë‚¨ì„± | ì¤‘í›„í•œ ìŒì„± |
| ko-KR-GookMinNeural | êµ­ë¯¼ | ë‚¨ì„± | ë˜ë ·í•œ ìŒì„± |

## ğŸ”— ê´€ë ¨ ë§í¬

- [Edge TTS GitHub](https://github.com/rany2/edge-tts)
- [FastAPI ë¬¸ì„œ](https://fastapi.tiangolo.com/)
- [Microsoft Azure TTS](https://azure.microsoft.com/ko-kr/products/ai-services/text-to-speech)

## ğŸ› ï¸ ì„œë²„ ì„¤ì •

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Python 3.12 ì´ìƒ
- ì¸í„°ë„· ì—°ê²° (Edge TTS ì„œë¹„ìŠ¤ ì ‘ê·¼)

### ì„¤ì¹˜

```bash
# Python 3.12 ê°€ìƒí™˜ê²½ ìƒì„± (ì´ë¯¸ ì™„ë£Œëœ ê²½ìš° ìƒëµ)
python3.12 -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### ì„œë²„ ì¬ì‹œì‘

TTS ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
# ì„œë²„ ì¤‘ì§€ í›„ ì¬ì‹œì‘
python -m src.bot  # ë˜ëŠ” uvicorn src.server:app --reload
```

---

**ë” ë‚˜ì€ ì½ê¸° ê²½í—˜ì„ ìœ„í•´!** ğŸ§ğŸ“–
